<!DOCTYPE html>
<html>
<head>
    <title>Staff Dashboard</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f2f2f2;
            margin: 0;
            padding: 0;
        }
        header {
            background: linear-gradient(to right, #6a1b9a, #8e24aa);
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        header h2 {
            margin: 0;
        }
        .header-buttons a {
            background: #ffffff33;
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            text-decoration: none;
            margin-left: 10px;
        }
        .header-buttons a:hover {
            background: #ffffff55;
        }
        table {
            width: 95%;
            margin: 20px auto;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #9575cd;
            color: white;
        }
        tr:hover {
            background: #f9f9f9;
        }
        .button {
            background: #6a1b9a;
            color: white;
            padding: 6px 12px;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
        }
        .button:hover {
            background: #512da8;
        }
        img.profile-photo {
            border-radius: 50%;
            height: 40px;
            width: 40px;
            object-fit: cover;
        }
    </style>
</head>
<body>

<header>
    <h2>üßë‚Äçüè´ Staff Dashboard - {{ staff[1] }}</h2>
    <div class="header-buttons">
        <a href="{{ url_for('staff_profile') }}">üë§ Profile</a>
        <a href="{{ url_for('logout') }}">üö™ Logout</a>
    </div>
</header>

<h3 style="text-align:center; margin-top: 20px;">üìã Registered Students</h3>

<table>
    <thead>
        <tr>
            <th>Hallticket</th>
            <th>Name</th>
            <th>Department</th>
            <th>Photo</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for student in students %}
        <tr>
            <td>{{ student[2] }}</td>
            <td>{{ student[1] }}</td>
            <td>{{ student[3] }}</td>
            <td>
                {% if student[4] %}
                    <img src="{{ url_for('static', filename=student[4].split('static/')[-1]) }}" alt="Photo" class="profile-photo">
                {% else %}
                    N/A
                {% endif %}
            </td>
            <td>
                <a href="{{ url_for('enter_marks', student_id=student[0]) }}" class="button">‚úèÔ∏è Enter/Edit Marks</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

</body>
</html>
